# Настройка переменных окружения в Vercel

## Проблема
После смены репозитория или создания нового проекта в Vercel, переменные окружения нужно настроить заново.

## Решение

### Шаг 1: Получите ключи Supabase

1. Откройте ваш проект в [Supabase Dashboard](https://app.supabase.com)
2. Перейдите в **Settings** → **API**
3. Скопируйте:
   - **Project URL** (например: `https://xxxxx.supabase.co`)
   - **anon public** key (длинная строка, начинается с `eyJ...`)

### Шаг 2: Настройте переменные в Vercel

1. Откройте [Vercel Dashboard](https://vercel.com/dashboard)
2. Выберите ваш проект `crypto-lottery-today`
3. Перейдите в **Settings** → **Environment Variables**
4. Добавьте две переменные:

   **Переменная 1:**
   - **Name**: `VITE_SUPABASE_URL`
   - **Value**: Ваш Supabase Project URL (из шага 1)
   - **Environment**: Выберите все (Production, Preview, Development)

   **Переменная 2:**
   - **Name**: `VITE_SUPABASE_ANON_KEY`
   - **Value**: Ваш Supabase anon key (из шага 1)
   - **Environment**: Выберите все (Production, Preview, Development)

5. Нажмите **Save** для каждой переменной

### Шаг 3: Передеплойте проект

После добавления переменных окружения:

1. Перейдите в **Deployments**
2. Найдите последний деплой
3. Нажмите на три точки (⋮) → **Redeploy**
4. Или сделайте новый коммит и push в репозиторий

### Шаг 4: Проверка

После передеплоя проверьте:

1. Откройте ваш сайт в Telegram Mini App
2. Попробуйте подключиться через Telegram
3. Если все работает - вы увидите сообщение "✅ Connected!"
4. Если ошибка - проверьте, что переменные правильно скопированы

## Важно!

- ⚠️ **Не добавляйте пробелы** в начале или конце значений
- ⚠️ **Копируйте ключи полностью** - они очень длинные
- ⚠️ **После изменения переменных** обязательно передеплойте проект
- ⚠️ **Проверьте Environment** - переменные должны быть доступны для Production

## Альтернативный способ (через Vercel CLI)

```bash
# Установите Vercel CLI (если еще не установлен)
npm i -g vercel

# Войдите в Vercel
vercel login

# Добавьте переменные окружения
vercel env add VITE_SUPABASE_URL
# Введите значение когда попросит

vercel env add VITE_SUPABASE_ANON_KEY
# Введите значение когда попросит

# Передеплойте
vercel --prod
```

## Проверка текущих переменных

Чтобы проверить, какие переменные уже настроены:

1. В Vercel Dashboard: **Settings** → **Environment Variables**
2. Или через CLI: `vercel env ls`

## Если проблема сохраняется

1. Убедитесь, что переменные добавлены для **всех окружений** (Production, Preview, Development)
2. Проверьте, что значения скопированы **полностью** без пробелов
3. Убедитесь, что проект **передеплоен** после добавления переменных
4. Проверьте логи деплоя в Vercel - там могут быть ошибки















